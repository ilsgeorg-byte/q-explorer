<section class="playlists-section animate-in">
    <div class="section-header">
        <h2 class="section-title">My Playlists</h2>
        <button class="btn-primary" onclick="showCreatePlaylistModal()">
            <span class="icon">ï¼‹</span> Create Playlist
        </button>
    </div>

    {% if playlists %}
    <div class="playlists-grid">
        {% for playlist in playlists %}
        <div class="playlist-card glass-card" onclick="window.location.href='/playlist/{{ playlist.id }}'">
            <div class="playlist-art">
                {% if playlist.items %}
                <img src="{{ playlist.items[0].image_url }}" alt="{{ playlist.name }}" loading="lazy">
                {% else %}
                <div class="empty-art">ğŸµ</div>
                {% endif %}
                <div class="art-overlay">
                    <span class="play-icon">â–¶</span>
                </div>
            </div>
            <div class="playlist-info">
                <h3>{{ playlist.name }}</h3>
                <p>{{ playlist.items|length }} tracks</p>
                <div class="playlist-actions">
                    <button class="btn-icon delete-playlist"
                        onclick="event.stopPropagation(); deletePlaylist({{ playlist.id }})" title="Delete">ğŸ—‘ï¸</button>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="empty-state glass-card">
        <div class="empty-icon">ğŸ’¿</div>
        <h3>You don't have any playlists yet</h3>
        <p>Create your first playlist to collect your favorite music in one place.</p>
        <button class="btn-primary" onclick="showCreatePlaylistModal()">Create Now</button>
    </div>
    {% endif %}
</section>

<!-- Create Playlist Modal -->
<div id="create-playlist-modal" class="modal-overlay">
    <div class="modal-content glass-card">
        <div class="modal-header">
            <h3>New Playlist</h3>
            <button class="btn-close" onclick="closeCreatePlaylistModal()">&times;</button>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label for="playlist-name">Name</label>
                <input type="text" id="playlist-name" placeholder="e.g.: Evening Rock">
            </div>
            <div class="form-group">
                <label for="playlist-desc">Description (optional)</label>
                <textarea id="playlist-desc" rows="3" placeholder="What is this playlist about?"></textarea>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn-glass" onclick="closeCreatePlaylistModal()">Cancel</button>
            <button class="btn-primary" onclick="confirmCreatePlaylist()">Create</button>
        </div>
    </div>
</div>