<div class="artist-hero hero-center">
    <h1 style="font-size: 3.5rem; margin-bottom: 15px;">{{ tag_name|capitalize }}</h1>
    <div class="hero-bio">{{ description|safe }}</div>
</div>

<!-- Controls Container -->
<div class="tag-controls">
    <div class="sort-controls">
        <span style="color:#666; margin-right:10px;">Sort by:</span>
        <a href="/tag/{{ tag_name }}?page=1&amp;sort=popularity"
            class="{% if sort_by == 'popularity' %}sort-active{% else %}sort-inactive{% endif %}"
            style="margin-right:15px; font-weight: bold;">Popularity</a>
        <a href="/tag/{{ tag_name }}?page=1&amp;sort=alpha"
            class="{% if sort_by == 'alpha' %}sort-active{% else %}sort-inactive{% endif %}"
            style="font-weight: bold;">A-Z</a>
    </div>

    <div class="pagination">
        {% if page > 1 %}
        <a href="/tag/{{ tag_name }}?page={{ page - 1 }}&amp;sort={{ sort_by }}" class="pagination-link">← Prev</a>
        {% endif %}
        <span style="color:#666; margin: 0 10px;">Page {{ page }}</span>
        <a href="/tag/{{ tag_name }}?page={{ page + 1 }}&amp;sort={{ sort_by }}" class="pagination-link">Next →</a>
    </div>
</div>

<!-- Grid -->
<div class="grid" style="max-width: 1200px; margin: 0 auto;">
    {% for artist in artists %}
    <a href="/redirect-artist?name={{ artist.artistName }}" class="card" style="text-align: center;" onclick="void(0)">
        <div class="artist-img-wrapper" data-artist-name="{{ artist.artistName }}">
            <!-- Colored square with first letter of name -->
            <div class="artist-placeholder lazy-grad artist-placeholder-default">
                {{ artist.artistName[0]|upper }}
            </div>
        </div>
        <div class="card-title">{{ artist.artistName }}</div>
        <!-- Format number: 1,234,567 -> 1.2M -->
        <div class="card-subtitle">
            {% if artist.listeners > 0 %}
            {% if artist.listeners > 1000000 %}
            {{ (artist.listeners / 1000000)|round(1) }}M Listeners
            {% else %}
            {{ (artist.listeners / 1000)|round|int }}K Listeners
            {% endif %}
            {% else %}
            #{{ loop.index + (page - 1) * 30 }} in {{ tag_name|capitalize }}
            {% endif %}
        </div>
    </a>
    {% endfor %}
</div>