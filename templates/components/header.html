<div class="search-container">
    <div class="nav-content">
        <a href="/" class="logo">Q-Explorer<span>.</span></a>

        <form action="/" method="get" class="search-wrapper" onsubmit="saveHistory(this.q.value)">
            <input type="text" name="q" placeholder="Start typing..." value="{{ query if query else '' }}"
                autocomplete="off" onfocus="showHistory()">
            <button type="submit" class="btn-search">
                <!-- Simple search icon SVG -->
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
            </button>
            <div id="history-dropdown"></div>
        </form>
        <div class="auth-nav" style="display: flex; align-items: center; gap: 15px; margin-left: 20px;">
            <a href="/playlists" class="btn-link" style="color: var(--secondary);" title="My Playlists">
                ğŸ’¿
            </a>
            <a href="/favorites" class="btn-link" style="color: var(--primary);" title="My Favorites">
                â¤ï¸
            </a>
            <a href="/profile" class="btn-link" style="display: flex; align-items: center; gap: 8px;">
                <div
                    style="width: 32px; height: 32px; background: var(--primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 14px;">
                    {{ current_user.username[0].upper() }}
                </div>
                <span style="display: none; @media (min-width: 768px) { display: inline; }">{{ current_user.username
                    }}</span>
            </a>
            {% else %}
            <a href="/login" class="btn-link">Log In</a>
            <a href="/register" class="btn btn-primary" style="height: 36px; padding: 0 20px; font-size: 12px;">Sign
                Up</a>
            {% endif %}
        </div>
    </div>
</div>